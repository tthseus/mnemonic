<!DOCTYPE html>
<html lang="en-us">
    <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">
    <title>Search Results | Stuff</title>
    <meta name="description" content="">
    
    <link rel="canonical" href="https://example.com/search/" />
    <meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Search Results"/>
<meta name="twitter:description" content=""/>

    
    
    
</head>
    





<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.2/css/all.css" integrity="sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr" crossorigin="anonymous">
<link rel="stylesheet" href="https://example.com/css/style.min.a793836d4b8d26a09a357ca04b9c15b4.css">
<link rel="stylesheet" href="https://example.com/css/flickity.min.0e4bb0748b6c5c83825df9b0f95e9f3f.css">
<link rel="stylesheet" href="https://example.com/css/bulma.min.075d758b3f2c4d6c0924a4d9ffce9112.css">

    <body><header>
    <nav class="navbar is-fixed-top is-transparent" role="navigation" aria-label="main navigation">       
         <div class="container">
            <div class="navbar-brand">
                <a href="https://example.com/" title="home" class="navbar-item">
                    <span class="logo"><h1><a  class="typewrite" data-period="2000" data-type='[ ">cd $HOME", "echo $USER", "EnchantÃ©" ]'>
                        <span class="wrap"></span>
                      </a></h1></span>
                </a>
                <a role="button" class="navbar-burger" aria-label="menu" aria-expanded="false">
                    <span aria-hidden="true"></span>
                    <span aria-hidden="true"></span>
                    <span aria-hidden="true"></span>
                </a>
            </div>
            <div class="navbar-menu">

                <div class="navbar-end">                
                    
                    <a href="https://example.com/about" class="navbar-item">About</a>
                    
                    <a href="https://example.com/post" class="navbar-item">Blog</a>
                    
                    <a href="https://example.com/" class="navbar-item">Home</a>
                    
                    <a href="https://example.com/search" class="navbar-item">Search</a>
                    
                    <div class="control dark-button has-icon-right dark-mode ml-1 mr-1">
                        <span class="icon is-small is-right" id="toggle-dark"></span>
                    </div>
                </div>
            </div>
        </div>
    </nav>
</header>
<main>
    <div class="container">
        <section class="section">
            <div class="container max-800px py-auto">
                <h1 class="title is-2 font-serif has-text-centered pt-1">
                    Search Results
                </h1>
                <form id="search" class="control has-icons-left" role="search">
                    <label hidden for="search-input">Search site</label>
                    <input class="input is-medium is-rounded" type="text" id="search-input" name="query" placeholder="Type here to search">
                    <span class="icon is-small is-left"><i class="fas fa-search"></i></span>
                </form>
                <section id="searchResult" class="search"></section>                    
            </div>
        </section>
    </div>
<script>
     
    let searchInput = document.querySelector('#search-input'),
        searchResult = document.querySelector('#searchResult');

    let dataJSON;

    
    window.addEventListener('keydown', function(event) {
        if (event.key === '/') {
            event.preventDefault()
            searchInput.focus()
        }
    })
    
    window.addEventListener('keydown', function(event) {
        if (event.keyCode === 27)
        {
            searchInput.value = '';
            searchResult.innerHTML = '';
            searchInput.blur()
        }
    })
    

    const getPostsJSON = async () => {
        let response = await fetch('/index.json')
        let data = await response.json()
        return data
    }
    

    const filterPostsJSON = (query, element) => {
        let result, itemsWithElement;
        query = new RegExp(query, 'ig')
        result = dataJSON.filter(item => query.test(item.title))
        itemsWithElement = result.map(item => (
            `<li class="search-result-item">
                <a href="${item.href}">
                    ${item.title}
                </a>
            </li>`
        ))
        element.style.display = 'block';
        itemsWithElement.unshift(`<p class="is-size-12 px-2 py-2 text-content">Press 'ESC' to cancel search.</p>`)
        element.innerHTML = itemsWithElement.join('');
    }
    /**
     * searchInputAction take two arguments, event and callback
     */ 
    const searchInputAction = (event, callback) => {
        searchInput.addEventListener(event, callback)
    }
    /**
     * When user focus on the search input, function getPostsJSON called.
     */
    searchInputAction('focus', () => getPostsJSON().then(data => dataJSON = data))
    /**
     * filtering result with the query that user given on search input.
     */
    searchInputAction('keyup', (event) => filterPostsJSON(event.target.value, searchResult))
</script>

        </main>
<script defer src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<script defer src="https://unpkg.com/flickity@2/dist/flickity.pkgd.min.js"></script>
<script defer src="https://cdn.jsdelivr.net/npm/lunr@2.3.8/lunr.min.js"></script>



<script defer src="https://example.com/main.min.5e04ae23ddf043a407012b7256b47523527d0292509f00d61fd895119fdfd054.js" ></script>
<script defer src="https://example.com/toggle.min.ec83b97396c1176938f606095f21ca5bc874cd3fb2f6eedd52661dac61dfdfb1.js" ></script><footer class="footer">
    <div class="container">
        <div class="columns has-text-centered">
            <ul class="is-flex is-vcentered justify-content is-align-self-auto mx-auto">
                <li>
                    <a href="mailto:tthseus@gmail.com" aria-label="email" class="icon is-medium">
                        <i data-feather="mail" class="fas fa-envelope"></i>
                    </a>
                </li>
                <li>
                    <a href="https://github.com/tthseus" target="_blank" rel="noopener" aria-label="GitHub" class="icon is-medium">
                        <i data-feather="github" class="fab fa-github"></i>
                    </a>
                </li>
                <li>
                    <a href="https://www.linkedin.com/in/tan-tinh-bui-953499180/" target="_blank" rel="noopener" aria-label="LinkedIn" class="icon is-medium">
                        <i data-feather="linkedin" class="fab fa-linkedin-in"></i>
                    </a>
                </li>
                <li>
                    <a href="https://example.com/index.xml" aria-label="RSS" class="icon is-medium">
                        <i data-feather="rss" class="fas fa-rss"></i>
                    </a>
                </li>
            </ul>

        </div>
        <p class="has-text-centered justify-content mx-auto font-sans">
            <a href="https://example.com">Stuff</a>
            &copy; Powered by the
            <a href="https://github.com/tthseus/memoir-theme" target="_blank" rel="noopener">
                Memoir Theme</a>
            </p>
    </div>
    <div class="back-to-top icon is-medium">
        <i class="fas fa-arrow-circle-up fa-2x"></i>
    </div>
</footer></body>
</html>